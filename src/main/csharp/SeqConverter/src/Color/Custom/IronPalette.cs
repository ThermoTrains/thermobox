using System;
using Emgu.CV;
using Emgu.CV.Structure;

namespace SebastianHaeni.ThermoBox.SeqConverter.Color.Custom
{
    internal static class IronPalette
    {
        public static Image<Bgr, byte> Map(Image<Gray, byte> gray)
        {
            var color = new Image<Bgr, byte>(gray.Size);
            var width = gray.Width;
            var height = gray.Height;

            for (var x = 0; x < width; x++)
            {
                for (var y = 0; y < height; y++)
                {
                    var intensity = Convert.ToInt32(gray[y, x].Intensity);
                    color[y, x] = Palette[intensity];
                }
            }

            return color;
        }

        private static readonly Bgr[] Palette =
        {
            new Bgr(0, 0, 0),
            new Bgr(12, 0, 0),
            new Bgr(30, 0, 0),
            new Bgr(40, 0, 0),
            new Bgr(47, 0, 0),
            new Bgr(54, 0, 0),
            new Bgr(61, 0, 0),
            new Bgr(68, 0, 0),
            new Bgr(75, 0, 0),
            new Bgr(81, 0, 0),
            new Bgr(86, 0, 0),
            new Bgr(89, 0, 2),
            new Bgr(94, 0, 3),
            new Bgr(98, 0, 3),
            new Bgr(101, 0, 5),
            new Bgr(105, 0, 7),
            new Bgr(109, 0, 8),
            new Bgr(113, 0, 10),
            new Bgr(116, 0, 12),
            new Bgr(117, 0, 12),
            new Bgr(119, 0, 15),
            new Bgr(121, 0, 18),
            new Bgr(124, 0, 21),
            new Bgr(125, 0, 24),
            new Bgr(128, 0, 27),
            new Bgr(131, 0, 30),
            new Bgr(132, 0, 33),
            new Bgr(134, 0, 37),
            new Bgr(137, 0, 40),
            new Bgr(137, 0, 43),
            new Bgr(139, 0, 47),
            new Bgr(141, 0, 50),
            new Bgr(142, 0, 54),
            new Bgr(143, 0, 56),
            new Bgr(145, 0, 59),
            new Bgr(147, 0, 62),
            new Bgr(147, 0, 64),
            new Bgr(149, 0, 66),
            new Bgr(150, 0, 69),
            new Bgr(150, 0, 72),
            new Bgr(150, 0, 75),
            new Bgr(151, 0, 78),
            new Bgr(150, 0, 80),
            new Bgr(152, 0, 83),
            new Bgr(152, 0, 86),
            new Bgr(152, 0, 90),
            new Bgr(153, 0, 92),
            new Bgr(154, 0, 95),
            new Bgr(155, 0, 99),
            new Bgr(155, 0, 101),
            new Bgr(154, 0, 105),
            new Bgr(156, 0, 108),
            new Bgr(156, 0, 110),
            new Bgr(156, 0, 112),
            new Bgr(157, 0, 115),
            new Bgr(157, 0, 119),
            new Bgr(157, 0, 121),
            new Bgr(157, 0, 124),
            new Bgr(157, 0, 127),
            new Bgr(157, 0, 130),
            new Bgr(157, 0, 133),
            new Bgr(157, 0, 135),
            new Bgr(157, 0, 137),
            new Bgr(157, 0, 140),
            new Bgr(155, 0, 143),
            new Bgr(156, 0, 147),
            new Bgr(155, 0, 149),
            new Bgr(155, 0, 152),
            new Bgr(155, 0, 155),
            new Bgr(155, 0, 156),
            new Bgr(155, 0, 159),
            new Bgr(155, 0, 162),
            new Bgr(155, 0, 163),
            new Bgr(153, 0, 166),
            new Bgr(153, 0, 168),
            new Bgr(153, 0, 170),
            new Bgr(153, 0, 172),
            new Bgr(151, 1, 174),
            new Bgr(152, 1, 176),
            new Bgr(151, 1, 176),
            new Bgr(150, 0, 178),
            new Bgr(149, 2, 180),
            new Bgr(148, 1, 181),
            new Bgr(149, 2, 183),
            new Bgr(149, 4, 185),
            new Bgr(148, 4, 186),
            new Bgr(146, 5, 187),
            new Bgr(146, 5, 189),
            new Bgr(146, 5, 191),
            new Bgr(145, 6, 191),
            new Bgr(144, 7, 192),
            new Bgr(143, 9, 193),
            new Bgr(142, 9, 194),
            new Bgr(141, 11, 195),
            new Bgr(139, 12, 197),
            new Bgr(138, 13, 197),
            new Bgr(136, 15, 199),
            new Bgr(134, 17, 201),
            new Bgr(132, 19, 202),
            new Bgr(132, 19, 202),
            new Bgr(129, 21, 204),
            new Bgr(127, 23, 206),
            new Bgr(124, 23, 206),
            new Bgr(121, 25, 207),
            new Bgr(119, 27, 209),
            new Bgr(117, 27, 209),
            new Bgr(114, 29, 210),
            new Bgr(112, 32, 211),
            new Bgr(109, 34, 212),
            new Bgr(105, 35, 212),
            new Bgr(102, 37, 214),
            new Bgr(99, 39, 216),
            new Bgr(96, 41, 216),
            new Bgr(92, 43, 217),
            new Bgr(89, 46, 219),
            new Bgr(84, 46, 219),
            new Bgr(79, 48, 220),
            new Bgr(72, 50, 222),
            new Bgr(67, 52, 223),
            new Bgr(62, 53, 222),
            new Bgr(56, 55, 224),
            new Bgr(50, 57, 224),
            new Bgr(45, 58, 225),
            new Bgr(39, 60, 226),
            new Bgr(34, 62, 227),
            new Bgr(29, 64, 228),
            new Bgr(27, 66, 228),
            new Bgr(24, 68, 228),
            new Bgr(21, 70, 230),
            new Bgr(20, 71, 231),
            new Bgr(18, 73, 231),
            new Bgr(15, 76, 231),
            new Bgr(14, 76, 232),
            new Bgr(12, 77, 233),
            new Bgr(11, 79, 234),
            new Bgr(10, 80, 235),
            new Bgr(9, 82, 234),
            new Bgr(8, 84, 236),
            new Bgr(7, 86, 236),
            new Bgr(7, 88, 236),
            new Bgr(6, 90, 236),
            new Bgr(5, 92, 238),
            new Bgr(4, 92, 238),
            new Bgr(4, 94, 238),
            new Bgr(4, 96, 239),
            new Bgr(4, 97, 238),
            new Bgr(2, 99, 240),
            new Bgr(3, 101, 240),
            new Bgr(3, 101, 241),
            new Bgr(3, 103, 241),
            new Bgr(1, 105, 241),
            new Bgr(2, 107, 240),
            new Bgr(1, 107, 241),
            new Bgr(1, 109, 241),
            new Bgr(1, 111, 243),
            new Bgr(1, 112, 243),
            new Bgr(0, 114, 243),
            new Bgr(0, 116, 244),
            new Bgr(0, 117, 244),
            new Bgr(0, 119, 244),
            new Bgr(0, 122, 244),
            new Bgr(0, 124, 245),
            new Bgr(0, 126, 244),
            new Bgr(0, 128, 246),
            new Bgr(0, 130, 246),
            new Bgr(0, 131, 247),
            new Bgr(0, 133, 246),
            new Bgr(0, 135, 248),
            new Bgr(0, 135, 248),
            new Bgr(0, 137, 248),
            new Bgr(0, 139, 247),
            new Bgr(0, 141, 249),
            new Bgr(0, 141, 249),
            new Bgr(0, 143, 249),
            new Bgr(0, 145, 249),
            new Bgr(0, 146, 248),
            new Bgr(0, 148, 250),
            new Bgr(0, 150, 250),
            new Bgr(0, 152, 251),
            new Bgr(0, 155, 250),
            new Bgr(0, 157, 252),
            new Bgr(0, 160, 252),
            new Bgr(0, 161, 252),
            new Bgr(0, 163, 253),
            new Bgr(0, 166, 253),
            new Bgr(0, 167, 253),
            new Bgr(0, 170, 253),
            new Bgr(0, 172, 253),
            new Bgr(0, 173, 252),
            new Bgr(0, 175, 254),
            new Bgr(0, 177, 254),
            new Bgr(0, 178, 254),
            new Bgr(0, 180, 254),
            new Bgr(0, 182, 254),
            new Bgr(0, 185, 254),
            new Bgr(0, 185, 254),
            new Bgr(0, 187, 254),
            new Bgr(0, 189, 254),
            new Bgr(0, 191, 254),
            new Bgr(0, 193, 254),
            new Bgr(0, 195, 254),
            new Bgr(0, 196, 254),
            new Bgr(0, 198, 254),
            new Bgr(0, 200, 254),
            new Bgr(1, 202, 254),
            new Bgr(0, 202, 254),
            new Bgr(2, 204, 254),
            new Bgr(3, 206, 254),
            new Bgr(3, 206, 254),
            new Bgr(5, 208, 254),
            new Bgr(8, 211, 254),
            new Bgr(9, 212, 254),
            new Bgr(10, 214, 254),
            new Bgr(12, 216, 253),
            new Bgr(14, 218, 255),
            new Bgr(15, 218, 255),
            new Bgr(18, 220, 255),
            new Bgr(22, 221, 255),
            new Bgr(26, 221, 255),
            new Bgr(31, 223, 255),
            new Bgr(34, 225, 255),
            new Bgr(37, 225, 255),
            new Bgr(41, 227, 255),
            new Bgr(46, 228, 255),
            new Bgr(53, 230, 255),
            new Bgr(58, 230, 255),
            new Bgr(64, 232, 255),
            new Bgr(70, 234, 255),
            new Bgr(76, 234, 255),
            new Bgr(82, 236, 255),
            new Bgr(87, 238, 255),
            new Bgr(94, 237, 255),
            new Bgr(101, 238, 255),
            new Bgr(107, 240, 255),
            new Bgr(114, 241, 255),
            new Bgr(121, 240, 255),
            new Bgr(129, 242, 255),
            new Bgr(138, 242, 255),
            new Bgr(145, 243, 255),
            new Bgr(151, 243, 255),
            new Bgr(158, 245, 255),
            new Bgr(165, 244, 255),
            new Bgr(172, 245, 255),
            new Bgr(179, 247, 255),
            new Bgr(185, 247, 255),
            new Bgr(191, 248, 255),
            new Bgr(197, 248, 255),
            new Bgr(202, 248, 255),
            new Bgr(208, 249, 255),
            new Bgr(213, 250, 255),
            new Bgr(219, 252, 255),
            new Bgr(225, 252, 255),
            new Bgr(230, 252, 255),
            new Bgr(235, 254, 255),
            new Bgr(240, 254, 255),
            new Bgr(245, 254, 255),
        };
    }
}
